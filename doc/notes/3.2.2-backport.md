### 3.2.2-backport

_Mostly finished_
_First Binary Release (supports Windows and Linux): 2020 November 24_


A backport of various changes/fixes made on the master branch since the release of lwjgl 3.2.2 (excluding changes to the generated code in `modules/lwjgl/*/src/generated`).

The goal of this backport is to update the OpenVR binding to 1.14.15 as available in the master branch (commit 02934555dad9d0a69d076cbfc2aee37e2d2b71d4) and also include some bugfixes, while keeping the method signatures in the core module compatible (which means modules form the official 3.2.2 relase can be used with the core module form here) and leaving the various native bindings under modules/lwjgl (except openvr) as they were.

It includes the following changes (code inside `modules/lwjgl/*/src/generated` was updated afterwards by using `ant generate`):

#### Bindings

- Assimp: applied commit 255ff2b9396bddbf33eae44ffb66301a44ec3a48
- CUDA: applied commit 50869cf9638ef2225a5ca141bf89d617a920a762
- LLVM: mostly lwjgl-3.2.3 by checking out the corresponding tag
- OpenCL: applied commit ef642957c10d9b6f03774c49faa1d09937996553 and 216d8f8d7d0f69f198000a594d0b48eef224759e
- OpenGL/OpenGLES: applied commit ef642957c10d9b6f03774c49faa1d09937996553
- OpenVR: Updated to 1.14.15 (up from 1.3.22), by checking out 02934555dad9d0a69d076cbfc2aee37e2d2b71d4, as well as changing small things to make the templates (and also the genrated code) compatible with the generator/core module
- Vulkan: applied commit aa1c9585babd34d8af884f14a7aaaff217d25e04


#### Other modules
- Core: mostly updated to lwjgl-3.2.3, by checking out 3d1bca0d9c5bd98c99075b3fb23b77e8e302a831 and applying 0e13a49580f264c6aeb25763394cbf47accccb5d, a3f2bf70f73471b126a33f5698de9370ab27ad66, 7a85e612e66578e133eb56cc803a78fb566de3dd, 57c78a4c08718a1f5518e2cbc448d6bf517146ec, a6d7321feafa1d43fc05271a9ca9482efd6cca53, d836bdf06a6715f79d02233d12f69601e402f233, 70b97dfd3d8f5cc5f246bcb85f3cd1baafe44f5e, d5b3ac3ca62f69d55f3632dce7733ab9eaffdd19, 27ecb74b04716bf594f073b6af3b091df82b3db2, 17cbc9b9cb17c6cac99d66092fec2fc988af2524 and 216d8f8d7d0f69f198000a594d0b48eef224759e, as well as reverting the version number to 3.2.2
- Extract: updated to 3d1bca0d9c5bd98c99075b3fb23b77e8e302a831
- Generator: mostly updated to lwjgl-3.2.3, by checking out 3d1bca0d9c5bd98c99075b3fb23b77e8e302a831 and applying cb32ed9b7960e62239ac9718fe46601aedbe5c97, a88e32d6af64c6f2f9fcd3d5da6141c49577ed62, a5d9047f3689aff3c7fd4f84c92b9e277d61b8e3, a3c56f712a5d79e632367106daa9e91b4da0ae90, 629832706d42668152af11ca9333bb7134e4abba, 50869cf9638ef2225a5ca141bf89d617a920a762, f8e25333a716080a3b398d94ff57f647fd9ec4fd, 17cbc9b9cb17c6cac99d66092fec2fc988af2524, b8aaf7355f78f4ffc12667607203bbefa9fbaca3, c5653ce39fe3d60715b23096150cfe2acf845d70, d2293e3068c78a7fe7999d331074e2c389058262, c31489b41a2a9b3c450c160b1f4fe29acd2e13e3, a6d7321feafa1d43fc05271a9ca9482efd6cca53, d836bdf06a6715f79d02233d12f69601e402f233 and 17cbc9b9cb17c6cac99d66092fec2fc988af2524, as well as removing the ShaderRC binding reference in Modules.kt, which was added after LWJGL 3.2.2
- Build-system: updated dependencies joml to 1.9.16 (from 1.9.14) and kotlinc to 1.3.50 (from 1.3.31) by applying the diff between tag 3.2.2 and 629832706d42668152af11ca9333bb7134e4abba

#### Improvements
- build(ant): added possibility to override the platform, the Windows compiler, and the base directory for jni to make cross compiling (especially on Linux for Windows) easier
- OpenVR: CompositorStageRenderSettings is now mutable

#### Fixes



#### Notes

To build this custom version using `ant release`:
- set `LWJGL_BUILD_TYPE` to `release/3.2.2` so that ant downloads the correct native dependencies
- run `ant init` and `ant compile-templates` (if you haven't already)
- run `ant compile` to compile the java code
- run `ant compile-native` to compile the native code and download the native dependencies
- set `LWJGL_BUILD_OFFLINE` to `true` and replace the openvr_api lib with version 1.14.15 (either from https://build.lwjgl.org/snapshot or from the offical openvr github repo)
- run `ant release`

To cross-compile the native code for Windows on Linux using `ant compile-native`:
- install a compiler capable of producing Windows compatible PE-files (e.g. msvc from visual studio)
- create a shell-script that sets up the compiler environment (e.g. default include paths and lib-paths) (required in case of msvc, since it is installed inside wine and even on Windows you have to run a bat file before you can use msvc from the commandline)
- set `LWJGL_BUILD_PLATFORM` to `Windows`
- set `LWJGL_BUILD_CL_OVERRIDE` to the name or the path of your compiler/wrapper-script (depending on if it is on the path or not)
- set `LWJGL_BUILD_JNI_BASE_OVERRIDE` to a folder that contains at least the Windows version of the jdk includes
- run `ant compile-native` to compile the native code and download the native dependencies 
- don't forget to replace `openvr_api.dll` if you are compiling this custom version (see above) 
- don't forget to unset at least `LWJGL_BUILD_PLATFORM` and `LWJGL_BUILD_JNI_BASE_OVERRIDE` (`LWJGL_BUILD_CL_OVERRIDE` will be ignored if the plattform is not Windows), if you want to compile native code for Linux afterwards

Possible issues during cross-compilation for Windows on Linux and solutions:
- the compiler complains about unknown options: options in msvc begin `/`, which means that the compiler will also treat full unix paths as options. To solve that, convert full unix paths a windows path using `winepath -w`.
- bash complains about non closed quotes: to pass a path to compiler options like `Fo`, that usually expect a file, the string must end with a path separator (on windows that's either `/` or `\`), which can cause trouble to Linux since `\` is used in bash to escape characters like quotes. To prevent trouble, always replace `\` at the end of incoming paths as well as results from `winepath -w`
- some of the compiler invocations result in `err:seh:segv_handler_early Got unexpected trap 14 during process initialization`: that seems to happen if you pass a lot of files with full paths to the compiler, which probably causes a stack buffer overflow, that corrupts the stack. To work around that issue, check which of the full paths are inside the working directory and convert them to relative paths by assinging them to a variable called `path` and then call `path="${path##"$PWD/"}"`